!function n(t,e,i){function r(o,u){var a,c,f;if(!e[o]){if(!t[o]){if(a="function"==typeof require&&require,!u&&a)return a(o,!0);if(s)return s(o,!0);throw c=new Error("Cannot find module '"+o+"'"),c.code="MODULE_NOT_FOUND",c}f=e[o]={exports:{}},t[o][0].call(f.exports,function(n){var e=t[o][1][n];return r(e?e:n)},f,f.exports,n,t,e,i)}return e[o].exports}var o,s="function"==typeof require&&require;for(o=0;o<i.length;o++)r(i[o]);return r}({1:[function(n,t){function e(n){return this instanceof e?void(this.models=_.map(n,function(n,t){return i(t,n)})):new e(n)}var i=n(5),r=n(3);t.exports=e,r(e.prototype),"object"==typeof window&&(window.keyconfig=t.exports)},{}],2:[function(n,t){var e=n(6),i=n(7);t.exports=function(n){return Array.isArray(n)?n.map(function(n){return _.isString(n)?e(_.map(n.split("+"),i).sort()):void 0}):void 0}},{}],3:[function(n,t){var e=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],i=["groupBy","countBy","sortBy","indexBy"];t.exports=function(n,t,r){t=t||e,r=r||i,_.each(t,function(t){_[t]&&(n[t]=function(){var n=Array.prototype.slice.call(arguments);return n.unshift(this.models),_[t].apply(_,n)})}),_.each(r,function(t){n[t]=function(n,e){var i=_.isFunction(n)?n:function(t){return _.isFunction(t.get)?t.get(n):t[n]};return _[t](this.models,i,e)}})}},{}],4:[function(n,t){function e(n){if(!(this instanceof e))return new e(n);if(!n.name)throw new Error("missing name");_.extend(this,{name:null,description:null,binding:null,options:null,enabled:!0,readonly:!1,hidden:!1,keys_win:null,keys_mac:null,sums_win:null,sums_mac:null},n),this._e=new r,this._e.on("update:binding",this._reset_binding.bind(this)),this._reset()}var i=n(2),r=n("events").EventEmitter;t.exports=e,e.prototype._reset=function(){this._reset_binding()},e._KEYCODE_ATTRS=["keys_win","keys_mac"],e._KEYCODE_SUM_ATTRS=["sums_win","sums_mac"],e.prototype._reset_binding=function(){this.binding&&(this.binding=_.map(this.binding,function(n){return n?_.uniq(n,!1):null}),_.extend(this,_.object(e._KEYCODE_ATTRS,this.binding),_.object(e._KEYCODE_SUM_ATTRS,_.map(this.binding,i.bind(i)))))},e._UPDATE_WHITELIST=["binding","description","hidden","enabled"],e.prototype.update=function(n){n=_.pick(n,e._UPDATE_WHITELIST),_.extend(this,n);var t=this;_.each(_.keys(n),function(n){t._e.emit("update:"+n)})},e._JSON_WHITELIST=["name","description","binding","enabled","readonly","hidden"],e.prototype.toJSON=function(){return _.pick(this,e._JSON_WHITELIST)}},{}],5:[function(n,t){function e(n,t){if(!(this instanceof e))return new e(n,t);if(!n)throw new Error("missing name");this.name=n,this.models=[],_.each(t,this._add.bind(this))}var i=n(3),r=n(4);t.exports=e,i(e.prototype),e.prototype._validate=function(n){var t=this;return _.each(r._KEYCODE_SUM_ATTRS,function(e,i){var r,o,s;if(n[e]&&(r=t.chain().pluck(e).flatten().without(void 0,null),o=r.intersection(n[e]).value(),o.length)){if(n.readonly)throw new Error("dup: "+n.name+" ("+e.split("_")[1]+")");o=_.map(o,function(t){return n[e].indexOf(t)}),s=n.binding,s[i]=_.filter(s[i],function(n,t){return!~o.indexOf(t)}),n.update({binding:s})}}),n},e.prototype._add=function(n){var t=n;n instanceof r||(t=r(n)),t=this._validate(t),this.models.push(t)},e.prototype.toJSON=function(){return this.map(function(n){return n.toJSON()})}},{}],6:[function(n,t,e){function i(n){for(var t,e=255,i=255,r=0,o=n.length;o;){t=o>20?20:o,o-=t;do i+=e+=n[r++];while(--t);e=(255&e)+(e>>8),i=(255&i)+(i>>8)}return e=(255&e)+(e>>8),i=(255&i)+(i>>8),i<<8|e}var e=t.exports=i;e.fletcher16=i},{}],7:[function(n,t){var e={backspace:8,command:91,tab:9,clear:12,enter:13,shift:16,ctrl:17,alt:18,capslock:20,escape:27,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:46,comma:188,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"[":219,"\\":220,"]":221,"'":222};t.exports=function(n){return e[n.toLowerCase()]||n.toUpperCase().charCodeAt(0)}},{}]},{},[1]);
//# sourceMappingURL=keyconfig.min.map